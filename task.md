# Token è¯¦æƒ…é¡µå¼€å‘ä»»åŠ¡

## é¡¹ç›®æ¦‚è¿°
æ ¹æ® prototype/token.png åŸå‹å›¾å¼€å‘åŠ¨æ€è·¯ç”± `/token/${address}` çš„ä»£å¸è¯¦æƒ…é¡µé¢ã€‚

## æŠ€æœ¯æ ˆ
- **Next.js**: åŠ¨æ€è·¯ç”±
- **lightweight-charts**: Kçº¿å›¾è¡¨
- **shadcn/ui**: UIç»„ä»¶åº“  
- **WebSocket**: å®æ—¶æ•°æ®æ¨é€
- **Zustand**: çŠ¶æ€ç®¡ç†

## é¡µé¢åŠŸèƒ½åˆ†æ

### 1. é¡µé¢å¤´éƒ¨åŒºåŸŸ
- ä»£å¸åŸºæœ¬ä¿¡æ¯ï¼šå¤´åƒã€åç§°ã€ç¬¦å·ã€ç¤¾äº¤é“¾æ¥
- å®æ—¶ä»·æ ¼æ•°æ®ï¼šå½“å‰ä»·æ ¼ã€24hæ¶¨è·Œå¹…ã€å¸‚å€¼ã€äº¤æ˜“é‡ç­‰
- å¤šä¸ªæ—¶é—´å‘¨æœŸé€‰æ‹©ï¼š1s, 30s, 1m, 1H, 4H, 1Dç­‰

### 2. å›¾è¡¨åŒºåŸŸ 
- Kçº¿å›¾è¡¨ï¼ˆä½¿ç”¨lightweight-chartsï¼‰
- æˆäº¤é‡æŸ±çŠ¶å›¾
- æ—¶é—´è½´å’Œä»·æ ¼è½´
- å¤šç§å›¾è¡¨å·¥å…·å’ŒæŒ‡æ ‡

### 3. å³ä¾§äº¤æ˜“é¢æ¿
- ä¹°å…¥/å–å‡ºåˆ‡æ¢
- æ•°é‡è¾“å…¥å’Œé¢„è®¾æ¯”ä¾‹æŒ‰é’®
- å®æ—¶ä»·æ ¼æ˜¾ç¤º
- äº¤æ˜“ç¡®è®¤æŒ‰é’®

### 4. åº•éƒ¨æ•°æ®åŒºåŸŸ
- æ´»åŠ¨ã€ä»“ä½ã€æŒæœ‰è€…ã€äº¤æ˜“è€…ç­‰Tabé¡µ
- å®æ—¶äº¤æ˜“è®°å½•è¡¨æ ¼
- ç­›é€‰å’Œæ’åºåŠŸèƒ½

## å¼€å‘ä»»åŠ¡æ‹†è§£

### **é˜¶æ®µä¸€ï¼šåŸºç¡€è®¾æ–½æ­å»º** ğŸ”§
- [x] æŸ¥çœ‹token.pngåŸå‹å›¾å¹¶åˆ†æé¡µé¢ç»“æ„
- [x] åˆ†æé¡µé¢åŠŸèƒ½éœ€æ±‚å’ŒæŠ€æœ¯æ ˆ
- [x] æ‹†è§£å¼€å‘ä»»åŠ¡
- [x] å®‰è£…å’Œé…ç½®lightweight-chartsã€zustandã€shadcn/ui
- [x] åˆ›å»ºåŠ¨æ€è·¯ç”±é¡µé¢ç»“æ„
- [x] ä¿®å¤lucide-reactä¾èµ–é—®é¢˜
- [x] ä½¿ç”¨shadcn/uié‡æ„TokenCard.tsx
- [x] å®‰è£…class-variance-authorityä¾èµ–
- [x] éªŒè¯é¡µé¢ç¼–è¯‘æˆåŠŸ

### **é˜¶æ®µäºŒï¼šæ ¸å¿ƒåŠŸèƒ½å¼€å‘** ğŸ“Š
- [ ] å®ç°é¡µé¢å¤´éƒ¨åŒºåŸŸï¼ˆä»£å¸ä¿¡æ¯ã€ä»·æ ¼æ•°æ®ï¼‰
- [ ] é›†æˆlightweight-chartså®ç°Kçº¿å›¾è¡¨
- [ ] å®ç°å³ä¾§äº¤æ˜“é¢æ¿

### **é˜¶æ®µä¸‰ï¼šæ•°æ®å’Œäº¤äº’** ğŸŒ
- [ ] å®ç°åº•éƒ¨æ•°æ®åŒºåŸŸï¼ˆTabé¡µå’Œè¡¨æ ¼ï¼‰
- [ ] ä½¿ç”¨Zustandåˆ›å»ºçŠ¶æ€ç®¡ç†
- [ ] å®ç°WebSocketå®æ—¶æ•°æ®æ¨é€

### **é˜¶æ®µå››ï¼šä¼˜åŒ–å®Œå–„** âœ¨
- [ ] ä¼˜åŒ–å“åº”å¼è®¾è®¡å’Œäº¤äº’ä½“éªŒ

## è¯¦ç»†ä»»åŠ¡è¯´æ˜

### é˜¶æ®µä¸€ï¼šåŸºç¡€è®¾æ–½æ­å»º

#### 1. å®‰è£…ä¾èµ–åŒ…
```bash
# å›¾è¡¨åº“
npm install lightweight-charts

# çŠ¶æ€ç®¡ç†
npm install zustand

# UIç»„ä»¶
npx shadcn-ui@latest add button input tabs card badge

# WebSocket (å¯é€‰ï¼Œå¯ä½¿ç”¨åŸç”ŸWebSocket)
npm install ws @types/ws
```

#### 2. åˆ›å»ºé¡µé¢ç»“æ„
- åˆ›å»º `app/token/[address]/page.tsx`
- è®¾è®¡å“åº”å¼å¸ƒå±€ï¼ˆå¤´éƒ¨ã€å›¾è¡¨ã€äº¤æ˜“é¢æ¿ã€åº•éƒ¨æ•°æ®ï¼‰
- å»ºç«‹ç»„ä»¶æ–‡ä»¶å¤¹ç»“æ„

### é˜¶æ®µäºŒï¼šæ ¸å¿ƒåŠŸèƒ½å¼€å‘

#### 3. é¡µé¢å¤´éƒ¨åŒºåŸŸ
- **TokenHeader ç»„ä»¶**
  - ä»£å¸åŸºæœ¬ä¿¡æ¯å±•ç¤º
  - å®æ—¶ä»·æ ¼æ•°æ®å±•ç¤º
  - æ—¶é—´å‘¨æœŸé€‰æ‹©å™¨

#### 4. å›¾è¡¨ç³»ç»Ÿé›†æˆ
- **TradingChart ç»„ä»¶**
  - lightweight-charts é…ç½®
  - Kçº¿å›¾è¡¨å®ç°
  - æˆäº¤é‡å›¾è¡¨
  - å®æ—¶æ•°æ®æ›´æ–°æœºåˆ¶

#### 5. äº¤æ˜“é¢æ¿
- **TradingPanel ç»„ä»¶**
  - ä¹°å…¥/å–å‡ºåˆ‡æ¢
  - æ•°é‡è¾“å…¥å’Œæ¯”ä¾‹é€‰æ‹©
  - å®æ—¶ä»·æ ¼è®¡ç®—
  - äº¤æ˜“ç¡®è®¤åŠŸèƒ½

### é˜¶æ®µä¸‰ï¼šæ•°æ®å’Œäº¤äº’

#### 6. åº•éƒ¨æ•°æ®åŒºåŸŸ
- **DataTabs ç»„ä»¶**
  - Tab å¯¼èˆªå®ç°
  - äº¤æ˜“è®°å½•è¡¨æ ¼
  - æ•°æ®ç­›é€‰å’Œåˆ†é¡µ

#### 7. çŠ¶æ€ç®¡ç†
- **Zustand Store è®¾è®¡**
  - ä»£å¸ä¿¡æ¯çŠ¶æ€
  - ä»·æ ¼æ•°æ®çŠ¶æ€
  - äº¤æ˜“çŠ¶æ€
  - UIçŠ¶æ€

#### 8. å®æ—¶æ•°æ®æ¨é€
- **WebSocket é›†æˆ**
  - è¿æ¥ç®¡ç†
  - æ•°æ®è®¢é˜…
  - é”™è¯¯å¤„ç†å’Œé‡è¿

### é˜¶æ®µå››ï¼šä¼˜åŒ–å®Œå–„

#### 9. ç”¨æˆ·ä½“éªŒä¼˜åŒ–
- å“åº”å¼è®¾è®¡å®Œå–„
- åŠ è½½çŠ¶æ€å¤„ç†
- é”™è¯¯è¾¹ç•Œå¤„ç†
- æ€§èƒ½ä¼˜åŒ–

## æŠ€æœ¯ç»†èŠ‚

### lightweight-charts é…ç½®
- æ”¯æŒKçº¿å›¾å’Œæˆäº¤é‡å›¾
- å®æ—¶æ•°æ®æ›´æ–°
- è‡ªå®šä¹‰æ ·å¼ä¸»é¢˜
- äº¤äº’åŠŸèƒ½ï¼ˆç¼©æ”¾ã€å¹³ç§»ï¼‰

### Zustand çŠ¶æ€è®¾è®¡
```typescript
interface TokenStore {
  // ä»£å¸åŸºæœ¬ä¿¡æ¯
  tokenInfo: TokenInfo | null
  // ä»·æ ¼æ•°æ®
  priceData: PriceData
  // Kçº¿æ•°æ®
  chartData: ChartData[]
  // äº¤æ˜“æ•°æ®
  trades: Trade[]
  // WebSocket è¿æ¥çŠ¶æ€
  wsConnected: boolean
  // æ“ä½œæ–¹æ³•
  updatePrice: (price: PriceData) => void
  updateChart: (data: ChartData) => void
  // ...
}
```

### WebSocket æ•°æ®æ ¼å¼
```typescript
interface WSMessage {
  type: 'price' | 'trade' | 'chart'
  data: any
  timestamp: number
}
```

## æ–‡ä»¶ç»“æ„
```
app/
â”œâ”€â”€ token/
â”‚   â””â”€â”€ [address]/
â”‚       â”œâ”€â”€ page.tsx                 # ä¸»é¡µé¢
â”‚       â””â”€â”€ components/
â”‚           â”œâ”€â”€ TokenHeader.tsx      # ä»£å¸å¤´éƒ¨ä¿¡æ¯
â”‚           â”œâ”€â”€ TradingChart.tsx     # å›¾è¡¨ç»„ä»¶
â”‚           â”œâ”€â”€ TradingPanel.tsx     # äº¤æ˜“é¢æ¿
â”‚           â”œâ”€â”€ DataTabs.tsx         # åº•éƒ¨æ•°æ®åŒºåŸŸ
â”‚           â””â”€â”€ ...
â”œâ”€â”€ lib/
â”‚   â”œâ”€â”€ stores/
â”‚   â”‚   â””â”€â”€ tokenStore.ts           # Zustand çŠ¶æ€ç®¡ç†
â”‚   â”œâ”€â”€ websocket/
â”‚   â”‚   â””â”€â”€ tokenWS.ts              # WebSocket ç®¡ç†
â”‚   â””â”€â”€ types/
â”‚       â””â”€â”€ token.ts                # ç±»å‹å®šä¹‰
```

## å¼€å‘é¡ºåºå»ºè®®
1. å…ˆå®Œæˆé™æ€å¸ƒå±€å’ŒåŸºç¡€ç»„ä»¶
2. é›†æˆ lightweight-charts å®ç°åŸºç¡€å›¾è¡¨
3. æ·»åŠ çŠ¶æ€ç®¡ç†å’Œæ¨¡æ‹Ÿæ•°æ®
4. å®ç° WebSocket å®æ—¶æ•°æ®æ¨é€
5. å®Œå–„äº¤äº’åŠŸèƒ½å’Œç”¨æˆ·ä½“éªŒ

## æ³¨æ„äº‹é¡¹
- ç¡®ä¿å“åº”å¼è®¾è®¡åœ¨ç§»åŠ¨ç«¯æ­£å¸¸æ˜¾ç¤º
- WebSocket è¿æ¥éœ€è¦é”™è¯¯å¤„ç†å’Œé‡è¿æœºåˆ¶
- å›¾è¡¨æ€§èƒ½ä¼˜åŒ–ï¼Œé¿å…é¢‘ç¹é‡ç»˜
- æ•°æ®æ ¼å¼è¦ä¸åç«¯APIä¿æŒä¸€è‡´